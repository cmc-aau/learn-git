---
title: "analysis"
author: "you"
date: "2/16/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE
)
library(ampvis2)
```

# Load some data
```{r}
# add and load your own or use fx AalborgWWTPs
data("AalborgWWTPs")

```

# Do some QC
```{r}
# filter some samples or taxa
summer_tet <- amp_subset_samples(aaw, Period %in% "Summer") %>% 
  amp_subset_taxa(., tax_vector = "g__Tetrasphaera")

```

# Alpha-diversity check, octave plots
```{r}

```

# Make a simple overview heatmap
```{r}
amp_heatmap(
  summer_tet,
  group_by = NULL,
  facet_by = NULL,
  normalise = F,
  tax_aggregate = "OTU",
  tax_add = c("Genus", "Species"),
  functions = c("MiDAS", "Filamentous", "AOB", "NOB", "PAO", "GAO"),
  rel_widths = c(0.75, 0.25)
)
```

# Fix this code
```{r}
#data.frame(class = unlist(lapply(mpg, classss)))
data.frame(class = unlist(lapply(mpg, class)))
```

